@{
    ViewData["Title"] = "Home";
}

<!-- HERO (full width) -->
<div class="container-fluid px-0 mt-3">
    <div class="hero-slider">
        <div class="slide slide-1 active">
            <h2>Achieve Your Best Fitness</h2>
            <p>Workouts tailored to help you reach your goals safely and effectively</p>
        </div>

        <div class="slide slide-2">
            <h2>Healthy Nutrition</h2>
            <p>Balanced diet programs designed to support your lifestyle</p>
        </div>

        <div class="slide slide-3">
            <h2>Live an Active Life</h2>
            <p>Tips and routines to keep you moving every single day</p>
        </div>

        <div class="slider-arrow arrow-left">
            <i class="fas fa-chevron-left"></i>
        </div>
        <div class="slider-arrow arrow-right">
            <i class="fas fa-chevron-right"></i>
        </div>

        <div class="slider-nav">
            <div class="slider-dot active" data-slide="0"></div>
            <div class="slider-dot" data-slide="1"></div>
            <div class="slider-dot" data-slide="2"></div>
        </div>
    </div>
</div>

<!-- MAIN CONTENT -->
<div class="container mt-5">
    <a class="btn btn-primary" asp-controller="Home" asp-action="AboutUs">Go to About Us</a>
    <!-- ✅ Who We Are Section -->
    <section class="who-we-are py-5 hidden-section">
        <div class="container">
            <div class="row align-items-center">
                <!-- Text -->
                <div class="col-md-6 mb-4 mb-md-0">
                    <h2 class="fw-bold mb-3">Who We Are</h2>
                    <p class="text-muted">
                        We are a team of certified trainers and nutrition specialists dedicated to helping
                        you reach your fitness goals. Whether you want to lose weight, build muscle, or simply live healthier,
                        our personalized programs have you covered.
                    </p>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> Personalized training plans</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> Nutrition guidance & meal plans</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> Experienced certified coaches</li>
                    </ul>
                    <a href="#" class="btn btn-primary mt-3">Learn More</a>
                </div>

                <!-- Image -->
                <div class="col-md-6">
                    <img src="https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8Zml0bmVzc3xlbnwwfHwwfHx8MA%3D%3D"
                         class="img-fluid rounded-3 shadow-lg" alt="Fitness Training">
                </div>
                <a class="btn btn-primary" asp-controller="Home" asp-action="AboutUs">Go to About Us</a>
            </div>
        </div>
    </section>

    <!-- ✅ Banner Section with Image and Text -->
    <section class="banner-section my-5 hidden-section">
        <div class="position-relative overflow-hidden rounded-3 shadow-lg">
            <img src="https://images.unsplash.com/photo-1535914254981-b5012eebbd15?w=1200&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8aGVhbHRoeSUyMGZvb2QlMjBmaXRuZXNzfGVufDB8fDB8fHww"
                 class="img-fluid w-100 banner-image" alt="Fitness and Nutrition">
            <div class="banner-overlay"></div>
            <div class="banner-content position-absolute top-50 start-50 translate-middle text-center text-white">
                <h2 class="display-4 fw-bold mb-4">Our Essential Products</h2>
                <p class="lead mb-4">Premium supplements and nutrition for your fitness journey</p>
                <a href="/Product/ShowProductsCards" class="btn btn-light btn-lg px-4 py-2 fw-bold">Shop Now</a>
            </div>
        </div>
    </section>


</div>

@section Scripts {
        <script>
            // إضافة الأنماط ديناميكياً لتجنب مشكلة قسم الـ Styles
            document.addEventListener('DOMContentLoaded', function() {
                // إنشاء عنصر style وإضافة التنسيقات إليه
                const styleElement = document.createElement('style');
                styleElement.textContent = `
                    /* أنيميشن لظهور الأقسام */
                    .hidden-section {
                        opacity: 0;
                        transform: translateY(50px);
                        transition: opacity 0.8s ease, transform 0.8s ease;
                    }

                    .show-section {
                        opacity: 1;
                        transform: translateY(0);
                    }

                    /* تنسيقات إضافية للقسم الجديد */
                    .our-products {
                        background-color: #f8f9fa;
                        border-radius: 15px;
                    }

                    /* تنسيقات البانر */
                    .banner-section {
                        margin: 4rem 0;
                    }

                    .banner-image {
                        height: 400px;
                        object-fit: cover;
                    }

                    .banner-overlay {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5));
                    }

                    .banner-content {
                        z-index: 10;
                        width: 80%;
                    }

                    .banner-content h2 {
                        text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
                    }

                    .banner-content p {
                        text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
                    }

        media (max-width: 768px) {
                        .banner-image {
                            height: 300px;
                        }

                        .banner-content h2 {
                            font-size: 2rem;
                        }

                        .banner-content p {
                            font-size: 1rem;
                        }
                    }
                `;

                // إضافة الأنماط إلى head المستند
                document.head.appendChild(styleElement);
            });

            // basic slider init (if not already in fitness.js)
            (function () {
                const slides = document.querySelectorAll('.slide');
                const dots = document.querySelectorAll('.slider-dot');
                const arrows = document.querySelectorAll('.slider-arrow');
                let current = 0;
                let interval = setInterval(nextSlide, 5000);

                function show(i) {
                    slides.forEach(s => s.classList.remove('active'));
                    dots.forEach(d => d.classList.remove('active'));
                    slides[i].classList.add('active');
                    dots[i].classList.add('active');
                    current = i;
                }
                function nextSlide() { show((current + 1) % slides.length); }
                function prevSlide() { show((current - 1 + slides.length) % slides.length); }

                dots.forEach((d, idx) => d.addEventListener('click', () => { show(idx); reset(); }));
                arrows[0].addEventListener('click', () => { prevSlide(); reset(); });
                arrows[1].addEventListener('click', () => { nextSlide(); reset(); });

                function reset() { clearInterval(interval); interval = setInterval(nextSlide, 5000); }
            })();

            // كود الظهور التدريجي للأقسام
            document.addEventListener("DOMContentLoaded", () => {
                const hiddenSections = document.querySelectorAll(".hidden-section");

                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add("show-section");
                            observer.unobserve(entry.target); // يظهر مرة واحدة بس
                        }
                    });
                }, { threshold: 0.2 }); // 20% من العنصر يكفي عشان يتفعل

                hiddenSections.forEach(section => {
                    observer.observe(section);
                });
            });
        </script>
}